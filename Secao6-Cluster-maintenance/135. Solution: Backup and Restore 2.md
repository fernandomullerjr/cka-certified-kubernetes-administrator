


------------------------------------------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------------------------------------------
# push

git status
git add .
git commit -m "135. Solution: Backup and Restore 2."
eval $(ssh-agent -s)
ssh-add /home/fernando/.ssh/chave-debian10-github
git push
git status



------------------------------------------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------------------------------------------
# 135. Solution: Backup and Restore 2


Explore the student-node and the clusters it has access to.

kubectl config get-contexts





If you want to see what the configuration file contains, then you can use the following command.

[user@host ~]$ kubectl config view

The kubectl configuration file comprehends three topics:

    Cluster: the URL for the API of a Kubernetes cluster. This URL identifies the cluster itself.

    User: credentials that identify a user connecting to the Kubernetes cluster.

    Context: puts together a cluster (the API URL) and a user (who is connecting to that cluster).

For example, you might have two contexts that are using different clusters but the same user.














How is ETCD configured for cluster1?

- O jeito mais fácil de verificar a resposta para esta questão é utilizando o comando:
kubectl get pods -n kube-system
Deve existir um Pod do etcd, indicando que é um Stacked ETCD.

- Outra maneira para validar que o ETCD é Stacked, é verificando o apiserver:
kubectl describe pod kube-apiserver-cluster1-controlplane -n kube-system
Se houver uma linha na conf de etcd-server contendo ip de localhost(127.0.0.1), indica que o ETCD é Stacked.