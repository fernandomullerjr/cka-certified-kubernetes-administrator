
# ###################################################################################################################### 
# ###################################################################################################################### 
#  push

git status
git add .
git commit -m "JSON PATH IN KUBERNETES - Lab."
git push
git status


eval $(ssh-agent -s)
ssh-add /home/fernando/.ssh/chave-debian10-github


# ###################################################################################################################### 
# ###################################################################################################################### 
# ###################################################################################################################### 
# ###################################################################################################################### 
# ###################################################################################################################### 
# ###################################################################################################################### 
## LAB


In this lab, we provide you with a Kubernetes pod information file in JSON format. Try to build JSON path queries with CLI to extract information from JSON.






### 1
In the given data, what is the data type of the root element?

{
  "apiVersion": "v1",
  "kind": "Pod",
  "metadata": {
    "name": "nginx-pod",
    "namespace": "default"
  },
  "spec": {
    "containers": [
      {
        "image": "nginx:alpine",
        "name": "nginx"
      }
    ],
    "nodeName": "node01"
  }
}


- R:
Dicionario



### 4

In the given data, what is the data type of the root element?

[
  {
    "apiVersion": "v1",
    "kind": "Pod",
    "metadata": {
      "name": "web-pod-1",
      "namespace": "default"
    },
    "spec": {
      "containers": [
        {
          "image": "nginx:alpine",
          "name": "nginx"
        }
      ],
      "nodeName": "node01"
    }
  },
  {
    "apiVersion": "v1",
    "kind": "Pod",
    "metadata": {
      "name": "web-pod-2",
      "namespace": "default"
    },
    "spec": {
      "containers": [
        {
          "image": "nginx:alpine",
          "name": "nginx"
        }
      ],
      "nodeName": "node02"
    }
  }
]


- R:
Lista






### 5
How many items do the list have?

[
  {
    "apiVersion": "v1",
    "kind": "Pod",
    "metadata": {
      "name": "web-pod-1",
      "namespace": "default"
    },
    "spec": {
      "containers": [
        {
          "image": "nginx:alpine",
          "name": "nginx"
        }
      ],
      "nodeName": "node01"
    }
  },
  {
    "apiVersion": "v1",
    "kind": "Pod",
    "metadata": {
      "name": "web-pod-2",
      "namespace": "default"
    },
    "spec": {
      "containers": [
        {
          "image": "nginx:alpine",
          "name": "nginx"
        }
      ],
      "nodeName": "node02"
    }
  }
]


- R:
2




### 6

What is the data type of the apiVersion field?

{
  "apiVersion": "v1",
  "kind": "Pod",
  "metadata": {
    "name": "nginx-pod",
    "namespace": "default"
  },
  "spec": {
    "containers": [
      {
        "image": "nginx:alpine",
        "name": "nginx"
      }
    ],
    "nodeName": "node01"
  }
}


- r:
string









### 7

What is the data type of the metadata field?

{
  "apiVersion": "v1",
  "kind": "Pod",
  "metadata": {
    "name": "nginx-pod",
    "namespace": "default"
  },
  "spec": {
    "containers": [
      {
        "image": "nginx:alpine",
        "name": "nginx"
      }
    ],
    "nodeName": "node01"
  }
}


- R:
Dicionario





### 8

Which of the below is the best description of the type of data in the containers field?

{
  "apiVersion": "v1",
  "kind": "Pod",
  "metadata": {
    "name": "nginx-pod",
    "namespace": "default"
  },
  "spec": {
    "containers": [
      {
        "image": "nginx:alpine",
        "name": "nginx"
      }
    ],
    "nodeName": "node01"
  }
}


- r:
lista de dicionarios










### 9

Now let's get into some action with JSON PATH.

Develop a JSON PATH query to extract the kind of object. A file named input.json is provided in the terminal. Provide the file as input to the cat command
for example, the command should be like this cat filename | jpath $.query

Expected output should be like this

[
  "Pod"
]


save query command to filename answer9.sh under root directory.

JSON Path query in file gave required output?


alpine-host ~ ➜  cat input.json 
{
  "apiVersion": "v1",
  "kind": "Pod",
  "metadata": {
    "name": "nginx-pod",
    "namespace": "default"
  },
  "spec": {
    "containers": [
      {
        "image": "nginx:alpine",
        "name": "nginx"
      }
    ],
    "nodeName": "node01"
  }
}

alpine-host ~ ➜  




cat input.json | jpath $.kind


alpine-host ~ ✖ cat input.json | jpath $.kind
[
  "Pod"
]
alpine-host ~ ➜  


echo "cat input.json | jpath '$.kind'" > answer9.sh







### 9

Develop a JSON PATH query to get the name of the POD.A file named input.json is provided in the terminal. Provide the file as input to the cat command
for example, the command should be like this cat filename | jpath $.query

Expected output should be like this

[
  "nginx-pod"
]


save query command to filename answer10.sh under root directory.

JSON Path query in file gave required output?

alpine-host ~ ➜  cat input.json 
{
  "apiVersion": "v1",
  "kind": "Pod",
  "metadata": {
    "name": "nginx-pod",
    "namespace": "default"
  },
  "spec": {
    "containers": [
      {
        "image": "nginx:alpine",
        "name": "nginx"
      }
    ],
    "nodeName": "node01"
  }
}

alpine-host ~ ➜  


cat input.json | jpath '$.metadata.name'

echo "cat input.json | jpath '$.metadata.name'" > answer10.sh

alpine-host ~ ➜  cat input.json | jpath '$.metadata.name'
[
  "nginx-pod"
]
alpine-host ~ ➜  

alpine-host ~ ➜  

alpine-host ~ ➜  echo "cat input.json | jpath '$.metadata.name'" > answer10.sh

alpine-host ~ ➜  







### 11

Develop a JSON PATH query to get the name of the POD. A file named input.json is provided in the terminal. Provide the file as input to the cat command
for example, the command should be like this cat filename | jpath $.query

Expected output should be like this

[
  "node01"
]


Save query command to filename answer11.sh under root directory.

JSON Path query in file gave required output?



alpine-host ~ ➜  cat input.json 
{
  "apiVersion": "v1",
  "kind": "Pod",
  "metadata": {
    "name": "nginx-pod",
    "namespace": "default"
  },
  "spec": {
    "containers": [
      {
        "image": "nginx:alpine",
        "name": "nginx"
      }
    ],
    "nodeName": "node01"
  }
}

alpine-host ~ ➜  

cat input.json | jpath '$.spec.nodeName'

echo "cat input.json | jpath '$.spec.nodeName'" > answer11.sh

















### 12
Develop a JSON PATH query to get the name of the POD. A file named input.json is provided in the terminal. Provide the file as input to the cat command
for example, the command should be like this cat filename | jpath $.query

Expected output should be like this

[
  {
    "image": "nginx:alpine",
    "name": "nginx"
  }
]


Save query command to filename answer12.sh under root directory.

JSON Path query in file gave required output?

alpine-host ~ ➜  cat input.json 
{
  "apiVersion": "v1",
  "kind": "Pod",
  "metadata": {
    "name": "nginx-pod",
    "namespace": "default"
  },
  "spec": {
    "containers": [
      {
        "image": "nginx:alpine",
        "name": "nginx"
      }
    ],
    "nodeName": "node01"
  }
}

alpine-host ~ ➜  

cat input.json | jpath '$.spec.containers[*]'

alpine-host ~ ➜  cat input.json | jpath '$.spec.containers[*]'
[
  {
    "image": "nginx:alpine",
    "name": "nginx"
  }
]
alpine-host ~ ➜  

echo "cat input.json | jpath '$.spec.containers[*]'" > answer12.sh







### 13

Develop a JSON PATH query to get the image name under the containers section.

A file named input.json is provided in the terminal. Provide the file as input to the cat command
for example, the command should be like this cat filename | jpath $.query

Expected output should be like this

[
  "nginx:alpine"
]


Save query command to filename answer13.sh under root directory.

JSON Path query in file gave required output?



alpine-host ~ ➜  cat input.json 
{
  "apiVersion": "v1",
  "kind": "Pod",
  "metadata": {
    "name": "nginx-pod",
    "namespace": "default"
  },
  "spec": {
    "containers": [
      {
        "image": "nginx:alpine",
        "name": "nginx"
      }
    ],
    "nodeName": "node01"
  }
}

alpine-host ~ ➜  


cat input.json | jpath '$.spec.containers[0].image'

alpine-host ~ ➜  cat input.json | jpath '$.spec.containers[0].image'
[
  "nginx:alpine"
]
alpine-host ~ ➜  
echo "cat input.json | jpath '$.spec.containers[*].image'" > answer13.sh















### 14
We now have POD status too. Develop a JSON PATH query to get the phase of the pod under the status section.


A file named k8status.json is provided in the terminal. Provide the file as input to the cat command
for example, the command should be like this cat filename | jpath $.query

Expected output should be like this

[
  "Pending"
]


Save query command to filename answer14.sh under root directory.

JSON Path query in file gave required output?
